class Options{constructor(){this.options={formatButtons:document.getElementsByName("imageType"),themeButton:document.getElementById("theme-button"),zoomButton:document.getElementById("zoom-button"),pinButton:document.getElementById("pin-button")},chrome.storage.local.get(a=>{this.storage=a,this.storage.darkTheme&&this.toggleActive(this.options.themeButton),this.storage.zoomMode&&this.toggleActive(this.options.zoomButton),this.storage.isPinned&&this.toggleActive(this.options.pinButton),this.setPhotoZoomListener(),this.setFormatListener(),this.showCheckedFormat(),this.setPinOptionListener(),this.makeVisible("inner-container")})}setFormatListener(){this.options.formatButtons.forEach(a=>{a.addEventListener("change",a=>{this.storage.imgFormat=a.target.value,chrome.storage.local.set(this.storage,()=>console.log("works inside format ",a.target.value))})})}setThemeListener(){this.options.themeButton.addEventListener("click",()=>{this.storage.darkTheme=!this.storage.darkTheme,chrome.storage.local.set(this.storage,()=>{this.toggleActive(this.options.themeButton)})})}setPhotoZoomListener(){this.options.zoomButton.addEventListener("click",()=>{this.storage.zoomMode=!this.storage.zoomMode,chrome.storage.local.set(this.storage,()=>{this.toggleActive(this.options.zoomButton)})})}setPinOptionListener(){this.options.pinButton.addEventListener("click",()=>{this.storage.isPinned=!this.storage.isPinned,chrome.storage.local.set(this.storage,()=>{this.toggleActive(this.options.pinButton),chrome.runtime.sendMessage({action:"pinChanged"})})})}toggleActive(a){a.classList.toggle("active")}makeVisible(a){document.getElementsByClassName(a)[0].classList.remove("hidden")}showCheckedFormat(){document.getElementById(this.storage.imgFormat).setAttribute("checked",!0)}}const c=new Options;